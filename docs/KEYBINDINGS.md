# 键盘操作指南 (Helix 风格)

本项目采用 Helix 编辑器风格的键盘操作，所有界面组件遵循统一的操作逻辑。

## 通用规则

### 导航
| 按键 | 操作 |
|------|------|
| `j` / `↓` | 向下移动 |
| `k` / `↑` | 向上移动 |
| `h` / `←` | 向左移动 |
| `l` / `→` | 向右移动 |
| `g` | 跳到第一项 |
| `G` (Shift+g) | 跳到最后一项 |
| `Ctrl+u` | 向上翻半页 |
| `Ctrl+d` | 向下翻半页 (部分区域) |

### 确认与取消
| 按键 | 操作 |
|------|------|
| `Enter` | 确认/选择/执行 |
| `Esc` | 取消/关闭/返回 |
| `q` | 关闭对话框/放弃修改 |

### 焦点切换
| 按键 | 操作 |
|------|------|
| `Ctrl+B` | 切换侧边栏 |
| `Ctrl+J` | 切换 SQL 编辑器 |
| `Ctrl+1` | 聚焦侧边栏-连接列表 |
| `Ctrl+2` | 聚焦侧边栏-数据库列表 |
| `Ctrl+3` | 聚焦侧边栏-表列表 |
| `h` (在表格最左边) | 转移焦点到侧边栏 |
| `l` (在侧边栏) | 转移焦点到数据表格 |
| `j` (在表格最下面) | 转移焦点到 SQL 编辑器 |

---

## 侧边栏

### 导航
| 按键 | 操作 |
|------|------|
| `j` / `↓` | 下一项 |
| `k` / `↑` | 上一项 |
| `g` | 第一项 |
| `G` | 最后一项 |
| `Enter` | 选择/连接 |
| `l` / `→` | 转移焦点到数据表格 |

### 鼠标操作
| 操作 | 效果 |
|------|------|
| 左键点击连接 | 展开/折叠 |
| 左键点击数据库 | 选择数据库 |
| 左键点击表 | 查询表数据 |
| 右键点击 | 上下文菜单 |

---

## 数据表格 (Normal 模式)

### 移动
| 按键 | 操作 |
|------|------|
| `h/j/k/l` | 基本方向移动 |
| `w` | 下一列 |
| `b` | 上一列 |
| `Home` | 行首 |
| `End` | 行尾 |
| `gg` | 第一行 |
| `G` / `ge` | 最后一行 |
| `gh` | 跳到行首 |
| `gl` | 跳到行尾 |
| `Ctrl+u` | 向上翻半页 |
| `PageUp/PageDown` | 翻页 |
| `[n]+移动` | 移动 n 次 (如 `5j`) |

### 编辑模式
| 按键 | 操作 |
|------|------|
| `i` | 进入插入模式 |
| `a` | 追加模式 |
| `c` | 清空并编辑 |
| `r` | 替换模式 |

### 选择模式
| 按键 | 操作 |
|------|------|
| `v` | 进入选择模式 |
| `x` | 选择整行 |

### 复制粘贴
| 按键 | 操作 |
|------|------|
| `y` | 复制单元格 |
| `yy` | 复制整行 |
| `p` | 粘贴 |

### 删除与撤销
| 按键 | 操作 |
|------|------|
| `dd` | 标记删除行 |
| `Space d` | 标记删除行 |
| `u` | 撤销单元格修改 |
| `U` | 取消行删除标记 |

### 行操作
| 按键 | 操作 |
|------|------|
| `o` | 在下方添加新行 |
| `O` | 在上方添加新行 |

### 筛选
| 按键 | 操作 |
|------|------|
| `/` | 打开快速筛选对话框 |
| `f` | 为当前列添加筛选 |
| `Ctrl+F` | 添加筛选条件 |
| `Ctrl+Shift+F` | 清空筛选 |

### 保存
| 按键 | 操作 |
|------|------|
| `w` / `Ctrl+S` | 保存修改 |
| `q` | 放弃所有修改 |
| `Ctrl+Shift+Z` | 放弃所有修改 |

### 刷新
| 按键 | 操作 |
|------|------|
| `Ctrl+R` | 刷新表格数据 |

### 鼠标操作
| 操作 | 效果 |
|------|------|
| 左键点击单元格 | 选择单元格 |
| 双击单元格 | 进入编辑模式 |
| 右键点击单元格 | 上下文菜单 |
| 右键点击行号 | 行操作菜单 |

---

## 数据表格 (Select 模式)

| 按键 | 操作 |
|------|------|
| `h/j/k/l` | 扩展选择范围 |
| `w/b` | 按列扩展选择 |
| `x` | 扩展到整行 |
| `d` | 删除选中内容 |
| `c` | 清空选中并编辑 |
| `y` | 复制选中内容 |
| `Esc` | 退出选择模式 |

---

## 数据表格 (Insert 模式)

| 按键 | 操作 |
|------|------|
| 输入文字 | 编辑内容 |
| `Esc` | 保存并退出编辑 |
| `Enter` | 确认并退出 |

---

## SQL 编辑器

### 执行
| 按键 | 操作 |
|------|------|
| `Enter` | 执行 SQL |
| `F5` | 执行 SQL |

### 编辑
| 按键 | 操作 |
|------|------|
| `Ctrl+L` | 清空编辑器 |
| `Ctrl+Space` | 触发自动补全 |
| `Tab` / `Enter` | 选择补全项 |

### 历史导航
| 按键 | 操作 |
|------|------|
| `Shift+↑` | 上一条历史 |
| `Shift+↓` | 下一条历史 |

### 鼠标操作
| 操作 | 效果 |
|------|------|
| 左键点击历史项 | 加载到编辑器 |
| 双击历史项 | 加载并执行 |

---

## 对话框

### 通用
| 按键 | 操作 |
|------|------|
| `Esc` / `q` | 关闭对话框 |
| `Enter` | 确认/提交 |

### 确认对话框
| 按键 | 操作 |
|------|------|
| `y` | 确认 |
| `n` | 取消 |

### 导出对话框
| 按键 | 操作 |
|------|------|
| `1/2/3` | 选择导出格式 |
| `h/l` | 切换格式 |
| `j/k` | 列导航 |
| `Space` | 切换列选中 |
| `a` | 全选/取消全选 |
| `g/G` | 首/尾列 |

### 导入对话框
| 按键 | 操作 |
|------|------|
| `1/2/3` | 选择导入格式 |
| `h/l` | 切换格式 |
| `Ctrl+R` | 刷新预览 |

### 连接对话框
| 按键 | 操作 |
|------|------|
| `1/2/3` | 选择数据库类型 |
| `h/l` | 切换数据库类型 |
| `Ctrl+O` | 浏览文件 (SQLite) |

### 新建表对话框
| 按键 | 操作 |
|------|------|
| `j/k` | 列导航 |
| `o` | 在下方添加列 |
| `O` | 在上方添加列 |
| `dd` | 删除当前列 |
| `Space` | 切换主键 |

### 帮助对话框
| 按键 | 操作 |
|------|------|
| `j/k` | 滚动 |
| `Ctrl+d/u` | 翻页 |
| `g/G` | 顶部/底部 |

### 历史记录面板
| 按键 | 操作 |
|------|------|
| `j` / `↓` | 下一条记录 |
| `k` / `↑` | 上一条记录 |
| `g` | 第一条记录 |
| `G` | 最后一条记录 |
| `Ctrl+u` | 向上翻 10 条 |
| `Ctrl+d` | 向下翻 10 条 |
| `Enter` / `l` | 选择并加载到编辑器 |
| `Esc` / `q` | 关闭面板 |
| `Ctrl+Delete` | 清空历史 |

| 鼠标操作 | 效果 |
|----------|------|
| 左键点击 | 选中记录 |
| 双击 | 加载到编辑器 |

---

## 全局快捷键

| 按键 | 操作 |
|------|------|
| `F1` | 打开/关闭帮助 |
| `Ctrl+N` | 新建连接 |
| `Ctrl+Shift+N` | 新建表 |
| `Ctrl+E` | 导出 |
| `Ctrl+I` | 导入 |
| `Ctrl+H` | 历史记录 |
| `Ctrl+D` | 切换日/夜模式 |
| `Ctrl+T` | 主题选择器 |
| `Ctrl+K` | 清空搜索 |
| `Ctrl+G` | 跳转到行 |
| `Ctrl+Tab` | 下一个标签页 |
| `Ctrl+Shift+Tab` | 上一个标签页 |
| `Ctrl+W` | 关闭标签页 |
| `Ctrl++` / `Ctrl+=` | 放大 |
| `Ctrl+-` | 缩小 |
| `Ctrl+0` | 重置缩放 |
| `F5` | 刷新表列表 |

---

## 鼠标通用操作

| 操作 | 效果 |
|------|------|
| 左键点击 | 选择/激活 |
| 双击 | 编辑/执行 |
| 右键点击 | 上下文菜单 |
| 滚轮 | 滚动 |
| Ctrl+滚轮 | 缩放 |
